<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button></ion-back-button>
    </ion-buttons>
    <ion-title>{{getFormName.form_name}}</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-grid>
    <ion-card [formGroup]="pmKisansammanForm" novalidate>

      <ion-row class="upper-row">
        <ion-label class="uper-text">
          Central Govt Scheme
        </ion-label>
      </ion-row>

      <ion-list style="margin-top: 5px;">

        <ion-label class="label-head">State</ion-label>
        <ion-row class="item-row">
          <ion-select class="select-class" [interfaceOptions]="stateHeader" placeholder="State"
            formControlName="stateId" (ionChange)="selectState($event)">
            <ion-select-option *ngFor="let state of shareData.stateList" [value]="state">{{state.state_name}}
            </ion-select-option>
          </ion-select>
        </ion-row>
        <p class="error" *ngIf="isSubmited && errorControl.stateId.errors?.required">
          <ion-text>
            * State is required. <br />
          </ion-text>
        </p>

        <ion-label class="label-head">District</ion-label>
        <ion-row class="item-row">
          <ion-select class="select-class" [disabled]="isStateId" [interfaceOptions]="districtHeader"
            placeholder="District" [value]="districtId" [(ngModel)]="districtId" formControlName="districtId"
            (ionChange)="selectDistrict($event)">
            <ion-select-option *ngFor="let district of shareData.districtList" [value]="district">
              {{district.city_name}}
            </ion-select-option>
          </ion-select>
        </ion-row>
        <p class="error" *ngIf="isSubmited && errorControl.districtId.errors?.required">
          <ion-text>
            * District is required. <br />
          </ion-text>
        </p>

        <ion-label class="label-head">Tehsil</ion-label>
        <ion-row class="item-row">
          <ion-input class="input-field" type="text" placeholder="Tehsil" formControlName="tehsil"></ion-input>
        </ion-row>
        <p class="error" *ngIf="isSubmited && errorControl.tehsil.errors?.required">
          <ion-text>
            * Tehsil is required. <br />
          </ion-text>
        </p>

        <ion-label class="label-head">Block</ion-label>
        <ion-row class="item-row">
          <ion-input class="input-field" type="text" placeholder="Block" formControlName="block"></ion-input>
        </ion-row>
        <p class="error" *ngIf="isSubmited && errorControl.block.errors?.required">
          <ion-text>
            * Block is required. <br />
          </ion-text>
        </p>

        <ion-label class="label-head">Village</ion-label>
        <ion-row class="item-row">
          <ion-input class="input-field" type="text" placeholder="Village" formControlName="village"></ion-input>
        </ion-row>
        <p class="error" *ngIf="isSubmited && errorControl.village.errors?.required">
          <ion-text>
            * Village is required. <br />
          </ion-text>
        </p>

        <ion-label class="label-head">Address</ion-label>
        <ion-row class="item-row-address">
          <ion-textarea class="text-area" rows="15" type="text" placeholder="Address" formControlName="address">
          </ion-textarea>
        </ion-row>
        <p class="error" *ngIf="isSubmited && errorControl.address.errors?.required">
          <ion-text>
            * Address is required. <br />
          </ion-text>
        </p>

        <ion-label class="label-head">Category</ion-label>
        <ion-row class="item-row">
          <ion-select class="select-class" [interfaceOptions]="categoryHeader" placeholder="Select Category"
            formControlName="category">
            <ion-select-option value="GENERAL">GENERAL</ion-select-option>
            <ion-select-option value="OBC">OBC</ion-select-option>
            <ion-select-option value="SC">SC </ion-select-option>
            <ion-select-option value="ST">ST</ion-select-option>
          </ion-select>
        </ion-row>
        <p class="error" *ngIf="isSubmited && errorControl.category.errors?.required">
          <ion-text>
            * Category is required. <br />
          </ion-text>
        </p>

        <ion-label class="label-head">Farmer Name</ion-label>
        <ion-row class="item-row">
          <ion-input class="input-field" type="text" placeholder="Farmer Name" formControlName="farmerName"></ion-input>
        </ion-row>
        <p class="error" *ngIf="isSubmited && errorControl.farmerName.errors?.required">
          <ion-text>
            * Farmer Name is required. <br />
          </ion-text>
        </p>

        <ion-label class="label-head">Father's Name</ion-label>
        <ion-row class="item-row">
          <ion-input class="input-field" type="text" placeholder="Father's Name" formControlName="fatherName">
          </ion-input>
        </ion-row>
        <p class="error" *ngIf="isSubmited && errorControl.fatherName.errors?.required">
          <ion-text>
            * Father Name is required. <br />
          </ion-text>
        </p>

        <ion-label class="label-head">Date of Birth</ion-label>
        <ion-row class="item-row">
          <!-- <ion-input class="input-field" type="text" placeholder="Date of Birth" formControlName="dob"></ion-input> -->
          <ion-datetime class="date-text" placeholder="Date of Birth" displayFormat="DD-MMM-YYYY"
            pickerFormat="DD-MMM-YYYY" min="1960" max="2030" formControlName="dob"></ion-datetime>
          <ion-icon class="date-icon" name="calendar-number-outline"></ion-icon>
        </ion-row>
        <p class="error" *ngIf="isSubmited && errorControl.dob.errors?.required">
          <ion-text>
            * Date Of Birth Name is required. <br />
          </ion-text>
        </p>

        <ion-label class="label-head">Aadhar Card No</ion-label>
        <ion-row class="item-row">
          <ion-input class="input-field" type="tel" maxlength="12" placeholder="Aadhar Card No"
            formControlName="adharNo"></ion-input>
        </ion-row>
        <p class="error" *ngIf="isSubmited && errorControl.adharNo.errors?.required">
          <ion-text>
            * Adhar No is required. <br />
          </ion-text>
        </p>
        <p class="error" *ngIf="isSubmited && errorControl.adharNo.errors?.pattern">
          <ion-text>
            * Only Numerical values allowed. <br />
          </ion-text>
        </p>

        <ion-label class="label-head">Bank Name</ion-label>
        <ion-row class="item-row">
          <ion-input class="input-field" type="text" placeholder="Bank Name" formControlName="bankName"></ion-input>
        </ion-row>
        <p class="error" *ngIf="isSubmited && errorControl.bankName.errors?.required">
          <ion-text>
            * Bank Name is required. <br />
          </ion-text>
        </p>

        <ion-label class="label-head">IFSC Code</ion-label>
        <ion-row class="item-row">
          <ion-input class="input-field" type="text" placeholder="IFSC Code" formControlName="ifcsCode"></ion-input>
        </ion-row>
        <p class="error" *ngIf="isSubmited && errorControl.ifcsCode.errors?.required">
          <ion-text>
            * I F S C is required. <br />
          </ion-text>
        </p>

        <ion-label class="label-head">Account No</ion-label>
        <ion-row class="item-row">
          <ion-input class="input-field" type="text" placeholder="Account No" formControlName="accountNo"></ion-input>
        </ion-row>
        <p class="error" *ngIf="isSubmited && errorControl.accountNo.errors?.required">
          <ion-text>
            * Account No is required. <br />
          </ion-text>
        </p>

        <ion-label class="label-head">Mobile No.</ion-label>
        <ion-row class="item-row">
          <ion-input class="input-field" type="tel" maxlength="10" placeholder="Mobile No." formControlName="mobileNo">
          </ion-input>
        </ion-row>
        <p class="error" *ngIf="isSubmited && errorControl.mobileNo.errors?.required">
          <ion-text>
            * Valid Mobile No is required. <br />
          </ion-text>
        </p>
        <p class="error" *ngIf="isSubmited && errorControl.mobileNo.errors?.pattern">
          <ion-text>
            * Only numerical values allowed. <br />
          </ion-text>
        </p>

        <hr>
        <hr class="new1">

        <ion-card [formGroup]="memberRowForm" novalidate>

          <ion-row class="row-head">
            <ion-col>
              <ion-text class="heading-text">
                Add Survey/ Khata
              </ion-text>
            </ion-col>
            <ion-col>
              <ion-text class="value-text">
                {{playerCount}}
              </ion-text>
            </ion-col>
          </ion-row>

          <hr>

          <ion-label class="label-head">Survey/ Khata No.</ion-label>
          <ion-row class="item-row">
            <ion-input class="input-field" type="text" placeholder="Survey/ Khata No." formControlName="surveyKhataNo">
            </ion-input>
          </ion-row>
          <p class="error" *ngIf="isSubmited2 && errorControl2.surveyKhataNo.errors?.required">
            <ion-text>
              * Survey/Khata No is required. <br />
            </ion-text>
          </p>

          <ion-label class="label-head">Dag/ Khasra No.</ion-label>
          <ion-row class="item-row">
            <ion-input class="input-field" type="text" placeholder="Dag/ Khasra No." formControlName="dagKhasraNo">
            </ion-input>
          </ion-row>
          <p class="error" *ngIf="isSubmited2 && errorControl2.dagKhasraNo.errors?.required">
            <ion-text>
              * Dag Khasra No is required. <br />
            </ion-text>
          </p>

          <ion-label class="label-head">Area (In Ha)</ion-label>
          <ion-row class="item-row">
            <ion-input class="input-field" type="text" placeholder="Area (In Ha)" formControlName="areaInHec">
            </ion-input>
          </ion-row>
          <p class="error" *ngIf="isSubmited2 && errorControl2.areaInHec.errors?.required">
            <ion-text>
              * Area In Hec is required. <br />
            </ion-text>
          </p>
        </ion-card>

        <ion-row>
          <ion-col>
          </ion-col>
          <ion-col>
            <ion-button class="add-btn" expand="block" type="submit" (click)="addMember()">+ Add
            </ion-button>
          </ion-col>
        </ion-row>

        <hr class="new4">
        <hr>
        <hr>
        <span *ngIf="memberArray!==null">

          <ion-card *ngFor="let item of memberArray;let j=index">

            <ion-row class="row-head">
              <ion-col>
                <ion-text class="heading-text">
                  Details No : {{j+1}}
                </ion-text>
              </ion-col>
              <ion-col class="remove-icon-row">
                <ion-icon style="font-size: 25px;" (click)="removeMember(j,item)" name="close-outline"></ion-icon>
              </ion-col>
            </ion-row>


            <ion-item line="full" class="itemheight">
              <ion-col size="6">
                <ion-text class="head-text">
                  Survey/ Khata No.
                </ion-text>
              </ion-col>
              <ion-col size="1">
                <ion-text>
                  <strong>:</strong>
                </ion-text>
              </ion-col>
              <ion-col size="5">
                <ion-text class="val-text">
                  {{item.surveyKhata_No}}
                </ion-text>
              </ion-col>
            </ion-item>

            <ion-item line="full" class="itemheight">
              <ion-col size="6">
                <ion-text class="head-text">
                  Dag/ Khasra No.
                </ion-text>
              </ion-col>
              <ion-col size="1">
                <ion-text>
                  <strong>:</strong>
                </ion-text>
              </ion-col>
              <ion-col size="5">
                <ion-text class="val-text">
                  {{item.dagKhasra_No}}
                </ion-text>
              </ion-col>
            </ion-item>

            <ion-item line="full" class="itemheight">
              <ion-col size="6">
                <ion-text class="head-text">
                  Area (In Ha).
                </ion-text>
              </ion-col>
              <ion-col size="1">
                <ion-text>
                  <strong>:</strong>
                </ion-text>
              </ion-col>
              <ion-col size="5">
                <ion-text class="val-text">
                  {{item.areaIn_Hec}}
                </ion-text>
              </ion-col>
            </ion-item>
          </ion-card>
        </span>

        <ion-row>
          <ion-col>
            <ion-button class="submit-button" shape="round" fill="outline" (click)="payAndSubmit()">Pay & Submit
            </ion-button>
          </ion-col>
          <ion-col>
            <ion-button class="reset-btn" expand="block" type="submit" (click)="resetMainForm()">Reset
            </ion-button>
          </ion-col>
        </ion-row>

      </ion-list>
    </ion-card>
  </ion-grid>

</ion-content>